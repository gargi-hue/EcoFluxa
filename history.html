<!DOCTYPE html>
<html>
<head>
  <title>History</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h2 class="page-title">Usage History</h2>

<table>
  <tr>
    <th>Date</th>
    <th>Name</th>
    <th>Family</th>
    <th>Region</th>
    <th>Water (L)</th>
    <th>Electricity (kWh)</th>
  </tr>
  <tbody id="historyTable"></tbody>
</table>

<script>
fetch("getHistory.php")
  .then(res => res.json())
  .then(data => {
    let table = document.getElementById("historyTable");
    data.forEach(row => {
      table.innerHTML += `
        <tr>
          <td>${row.reading_date}</td>
          <td>${row.user_name}</td>
          <td>${row.family_members}</td>
          <td>${row.region}</td>
          <td>${row.water_usage}</td>
          <td>${row.electricity_usage}</td>
        </tr>
      `;
    });
  });
</script>
</body>
</html>
